<main class="container edit">
  <img src="{{ school.img }}" alt="" />
  <input
    class=""
    id="img"
    type="file"
    (change)="upload($event)"
    accept="*.png.jpg.JPEG."
    name="img"
    required
  />
  <div class="headingContainer">
    <h1 class="h1">{{ school.name }}</h1>
  </div>

  <section>
    <p class="infoText">“{{ school.infoText }}”</p>
    <p>Info-Text zu deiner Fahrschule/Berufsschule</p>
    <textarea
      [(ngModel)]="school.infoText"
      type="text"
      id="infoText"
      name="infoText"
    >
    </textarea>
    <div id="generalInfo">
      <div class="angebot">
        <h1>Das bietet {{ school.name }} an:</h1>
        <p class="">
          automat:

          {{ school.automat ? "&#10003;" : "&#10007;" }}
        </p>
        <input
          [(ngModel)]="school.automat"
          type="checkbox"
          id="handgeschaltet"
          name="handgeschaltet"
        />
        <p>
          handgeschaltet:

          {{ school.handgeschaltet ? "&#10003;" : "&#10007;" }}
        </p>
        <input
          [(ngModel)]="school.handgeschaltet"
          type="checkbox"
          id="handgeschaltet"
          name="handgeschaltet"
        />
        <p>
          Verkehrskunde:

          {{ school.verkehrskunde ? "&#10003;" : "&#10007;" }}
        </p>
        <input
          [(ngModel)]="school.verkehrskunde"
          type="checkbox"
          id="handgeschaltet"
          name="handgeschaltet"
        />
        <p>
          Nothelferkurs:

          {{ school.nothelferkurs ? "&#10003;" : "&#10007;" }}
        </p>
        <input
          [(ngModel)]="school.nothelferkurs"
          type="checkbox"
          id="handgeschaltet"
          name="handgeschaltet"
        />
      </div>
      <div class="kontakt">
        <h1>So erreichst du {{ school.name }}</h1>
        <h4>Telefon:</h4>
        <input
          [(ngModel)]="school.vorwahl"
          type="tel"
          name="tel"
          value="{{ school.vorwahl }}"
        />
        <input
          [(ngModel)]="school.telefon"
          type="tel"
          name="tel"
          value="{{ school.telefon }}"
        />

        <a
          [href]="
            school.webseite.includes('https://')
              ? school.webseite
              : 'https://' + school.webseite
          "
        >
          Website:
          {{ school.webseite }}
        </a>
        <input
          [(ngModel)]="school.webseite"
          type="text"
          name="webseite"
          value="{{ school.webseite }}"
        />
      </div>
      <div class="preise">
        <h1>Das verlangt {{ school.name }}:</h1>
        <h4 class="">Preis für eine Lektion:</h4>
        <input
          type="number"
          [(ngModel)]="school.preisLektionen"
          name="preisLektionen"
          value="{{ school.preisLektionen }}"
        />
        <h4 class="">Preis für NothelferKurs:</h4>
        <input
          type="number"
          [(ngModel)]="school.preisNothelferKurs"
          name="preisLektionen"
          value="{{ school.preisNothelferKurs }}"
        />
        <h4 class="">Preis für Verkehrskunde:</h4>
        <input
          type="number"
          [(ngModel)]="school.preisVerkehrskunde"
          name="preisLektionen"
          value="{{ school.preisVerkehrskunde }}"
        />
      </div>
    </div>
    <div class="classFooter">
      <address>
        <div class="labelInputWrapper">
          <div class="w-full px-3">
            <input
              type="number"
              [(ngModel)]="school.postalCode"
              value="{{ school.postalCode }}"
            />
            <input
              type="text"
              [(ngModel)]="school.stadt"
              value="{{ school.stadt }}"
            />
            <input
              type="text"
              [(ngModel)]="school.kanton"
              value="{{ school.kanton }}"
            />
          </div>
        </div>
      </address>
      <p class="rating">rating {{ school.rating }}</p>
    </div>
    <button (click)="updateSchool()" type="button">
      Änderungen übernehmen
    </button>
  </section>
  <p *ngIf="warn">{{ warn1 }}</p>
  <button
    type="button"
    class="cancelSub"
    (click)="ack ? makeHttpsRequest() : (warn = true); ack = true"
  >
    Abo kündigen
  </button>
  <p *ngIf="warn">{{ warn2 }}</p>
  <p>{{ msg }}</p>
</main>
